{"metaVersion":2,"name":"Solicitação de Produto para Demonstração","icon":"fad fa-calendar-check","executionType":"Ecm","entityVersion":7,"author":"senior","created":"2020-11-12T15:12:44.000","simple":false,"embedded":false,"tag":"ERP","viewName":"BPM_solicitacao_de_produto_para_demonstracao","contextVariable":[{"id":"e4e0948c75bad6ce0175bcf96b310802","processId":4,"processVersion":17,"name":"cod_emp","label":"Codigo Empresa","variableType":"Integer","orderField":3,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b8a39fe00af4","processId":4,"processVersion":6,"name":"codigo_cliente","label":"Codigo Cliente","variableType":"Integer","orderField":6,"visibleForRequester":false,"deprecated":true,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a700503","processId":4,"processVersion":6,"name":"cliente","label":"Cliente","variableType":"String","orderField":7,"visibleForRequester":false,"deprecated":true,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6004fc","processId":4,"processVersion":1,"name":"cod_produto","label":"Produto","variableType":"String","orderField":1,"visibleForRequester":false,"deprecated":true,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bcc1d863065f","processId":4,"processVersion":8,"name":"nome_cliente","label":"Nome Cliente","variableType":"String","orderField":13,"visibleForRequester":false,"deprecated":true,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bcc1d8660660","processId":4,"processVersion":8,"name":"contato_cliente","label":"Informações Cliente","variableType":"String","orderField":14,"visibleForRequester":false,"deprecated":true,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b8a39fcf0af3","processId":4,"processVersion":17,"name":"produto","label":"Produto","variableType":"String","orderField":1,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b8a39fee0af5","processId":4,"processVersion":17,"name":"codigo_produto","label":"Codigo Produto","variableType":"String","orderField":2,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6304fd","processId":4,"processVersion":17,"name":"quantidade","label":"Quantidade","variableType":"Integer","orderField":4,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6c0501","processId":4,"processVersion":17,"name":"tipo_demonstracao","label":"Tipo de Demonstração","variableType":"String","orderField":5,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a720504","processId":4,"processVersion":17,"name":"informacoes_evento","label":"Informações do Evento","variableType":"String","orderField":6,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bca15cc505f6","processId":4,"processVersion":17,"name":"responsavel","label":"Responsável","variableType":"String","orderField":7,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6604fe","processId":4,"processVersion":17,"name":"data_inicio","label":"Data de Início","variableType":"Date","orderField":8,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6804ff","processId":4,"processVersion":17,"name":"data_fim","label":"Data de Fim","variableType":"Date","orderField":9,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bcd7e60d07a6","processId":4,"processVersion":17,"name":"nome_empresa","label":"Empresa","variableType":"String","orderField":11,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bcd7e61207a7","processId":4,"processVersion":17,"name":"cnpj","label":"CNPJ","variableType":"String","orderField":12,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bcd7e61607a8","processId":4,"processVersion":17,"name":"telefone","label":"Telefone","variableType":"String","orderField":13,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e0948c75bad6ce0175bcd7e61a07a9","processId":4,"processVersion":17,"name":"informacoes_add","label":"Informações","variableType":"String","orderField":14,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6a0500","processId":4,"processVersion":17,"name":"periodo","label":"Período","variableType":"Integer","orderField":15,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a6e0502","processId":4,"processVersion":17,"name":"codigo_tipo","label":"Código Tipo","variableType":"Integer","orderField":16,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e3379175b4727a0175b7544a740505","processId":4,"processVersion":17,"name":"parecer","label":"Parecer","variableType":"String","orderField":18,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false}],"services":[{"id":"e4e0948c75bad6ce0175bd1550cb08c1","name":"inserirCadDem","execution":"TASK","protocol":"REST","method":"POST","url":"https://ec2-3-236-178-160.compute-1.amazonaws.com:8181/SXI/G5Rest?server\u003dhttp://localhost:8080/\u0026module\u003dsapiens\u0026service\u003dcom.senior.sapiens.bpm\u0026port\u003dinserirCadDem\u0026serverAuth\u003dhttps://platform-homologx.senior.com.br:8243","params":[{"id":"e4e0948c75bad6ce0175bd1550cc08c2","name":"cademp","input":true,"paramType":"Integer"},{"id":"e4e0948c75bad6ce0175bd1550cc08c3","name":"codpro","input":true,"paramType":"String"},{"id":"e4e0948c75bad6ce0175bd1550cd08c4","name":"despro","input":true,"paramType":"String"},{"id":"e4e0948c75bad6ce0175bd1550cd08c5","name":"qtdpro","input":true,"paramType":"Integer"},{"id":"e4e0948c75bad6ce0175bd1550ce08c6","name":"datini","input":true,"paramType":"Date"},{"id":"e4e0948c75bad6ce0175bd1550ce08c7","name":"datfim","input":true,"paramType":"Date"}]}],"customAssignments":[],"form":{"name":"solicitacao_produto_demonstracao","title":"Solicitação de Produto para Demonstração","version":7,"fields":[{"name":"politica_de_demonstracao","type":"Link","label":"Política de Demonstração","size":"100%","order":0,"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":false,"calculationConfig":{"calculation":"https:\\\\dev.senior.com.br","triggerFields":[]}},{"name":"produto","type":"String","label":"Produto","size":"50%","order":1,"required":false,"validationRegex":"","tooltip":"Selecionar produto produzido que fará parte da Demonstração","mask":"","datasource":{"type":"Query","config":"{\"name\":\"buscarProdutos\",\"field\":\"despro\",\"filters\":[]}"},"appWorkflow":false,"isBreakLine":false},{"name":"codigo_produto","type":"String","label":"Codigo Produto","size":"25%","order":2,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Resulting","config":"{\"formField\":\"produto\",\"dataSourceField\":\"codpro\"}"},"appWorkflow":false,"isBreakLine":true},{"name":"cod_emp","type":"Integer","label":"Codigo Empresa","size":"50%","order":3,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"produto\",\"dataSourceField\":\"codemp\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"quantidade","type":"Integer","label":"Quantidade","size":"25%","order":4,"required":false,"validationRegex":"","mask":"0","appWorkflow":false,"isBreakLine":true},{"name":"tipo_demonstracao","type":"String","label":"Tipo de Demonstração","size":"25%","order":5,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Query","config":"{\"name\":\"Tipo Demonstracao\",\"field\":\"tipo\",\"filters\":[]}"},"appWorkflow":false,"isBreakLine":false},{"name":"informacoes_evento","type":"TextArea","label":"Informações do Evento","size":"50%","order":6,"required":false,"validationRegex":"","tooltip":"Preencher informações do evento","mask":"6","appWorkflow":false,"isBreakLine":true},{"name":"responsavel","type":"String","label":"Responsável","size":"50%","order":7,"required":false,"validationRegex":"","tooltip":"Responsável pela Demonstração","mask":"","appWorkflow":false,"isBreakLine":false},{"name":"data_inicio","type":"Date","label":"Data de Início","size":"25%","order":8,"required":false,"validationRegex":"","tooltip":"Data inicial da demonstração","mask":"DD/MM/AAAA","appWorkflow":false,"isBreakLine":false},{"name":"data_fim","type":"Date","label":"Data de Fim","size":"25%","order":9,"required":false,"validationRegex":"","tooltip":"Data final da demonstração","mask":"DD/MM/AAAA","appWorkflow":false,"isBreakLine":false},{"name":"nome_empresa","type":"String","label":"Empresa","size":"50%","order":11,"required":false,"validationRegex":"","tooltip":"Indicar o nome do potencial cliente","mask":"","appWorkflow":false,"isBreakLine":true},{"name":"cnpj","type":"String","label":"CNPJ","size":"50%","order":12,"required":false,"validationRegex":"","tooltip":"CNPJ da Empresa","mask":"99.999.999/9999-99","appWorkflow":false,"isBreakLine":false},{"name":"telefone","type":"String","label":"Telefone","size":"25%","order":13,"required":false,"validationRegex":"","tooltip":"Telefone do Cliente","mask":"","appWorkflow":false,"isBreakLine":false},{"name":"informacoes_add","type":"TextArea","label":"Informações","size":"50%","order":14,"required":false,"validationRegex":"","tooltip":"Indicar informações adicionais como pessoa responsável e endereço","mask":"6","appWorkflow":false,"isBreakLine":true},{"name":"periodo","type":"Integer","label":"Período","size":"25%","order":15,"required":false,"validationRegex":"","tooltip":"Período em Dias em que o produto ficará em Demonstração","mask":"0","appWorkflow":false,"isBreakLine":false,"calculationConfig":{"calculation":"((${data_fim} - ${data_inicio}) / 86400000) + 1","triggerFields":["data_fim","data_inicio"]}},{"name":"codigo_tipo","type":"Integer","label":"Código Tipo","size":"50%","order":16,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"tipo_demonstracao\",\"dataSourceField\":\"codigo\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"parecer","type":"TextArea","label":"Parecer","size":"50%","order":18,"required":false,"validationRegex":"","tooltip":"Em caso de reprovação ou solicitação de ajuste, preencher o motivo","mask":"6","appWorkflow":false,"isBreakLine":false}],"formLayout":"{\"layoutElements\":[{\"elementType\":\"SEPARATOR\",\"layoutElement\":{\"name\":\"Cliente em Potencial\",\"order\":10.0}},{\"elementType\":\"SEPARATOR\",\"layoutElement\":{\"name\":\"Gestão de Demonstração\",\"order\":17.0}}],\"jsonVersion\":1}","internal":false,"formRules":[{"triggerType":"ON_FIELD_EXIT","triggerFields":["codigo_tipo"],"condition":"${codigo_tipo} \u003d\u003d 2","actions":[{"type":"MAKE_FIELDS_VISIBLE","fields":["informacoes_evento","responsavel"]},{"type":"MAKE_FIELDS_REQUIRED","fields":["informacoes_evento","responsavel"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["data_inicio"],"condition":"${data_inicio} \u0026\u0026 ${data_inicio} \u003c\u003d new Date().getTime()","actions":[{"type":"MAKE_FIELDS_CONSISTENCE","message":"A data de início da Demonstração deve ser maior que a data atual.","fields":["data_inicio"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["data_fim","data_inicio"],"condition":"${data_fim} \u0026\u0026 ${data_fim} \u003c ${data_inicio}","actions":[{"type":"MAKE_FIELDS_CONSISTENCE","message":"A Data fim deve ser maior ou igual à data de início.","fields":["data_fim"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["codigo_tipo"],"condition":"${codigo_tipo} \u003d\u003d 3","actions":[{"type":"MAKE_FIELDS_VISIBLE","fields":["nome_empresa","cnpj","telefone","informacoes_add"]},{"type":"MAKE_FIELDS_REQUIRED","fields":["nome_empresa","cnpj","telefone","informacoes_add"]}],"enabled":true}]},"entity":{"name":"solicitacao_produto_demonstracao","title":"solicitacao_produto_demonstracao","type":"FORM","attributes":[{"name":"politica_de_demonstracao","type":"String"},{"name":"cod_produto","type":"String"},{"name":"quantidade","type":"Integer"},{"name":"data_inicio","type":"Date"},{"name":"data_fim","type":"Date"},{"name":"periodo","type":"Integer"},{"name":"tipo_demonstracao","type":"String"},{"name":"codigo_tipo","type":"Integer"},{"name":"cliente","type":"String"},{"name":"informacoes_evento","type":"String"},{"name":"parecer","type":"String"},{"name":"produto","type":"String"},{"name":"codigo_cliente","type":"Integer"},{"name":"codigo_produto","type":"String"},{"name":"responsavel","type":"String"},{"name":"nome_cliente","type":"String"},{"name":"contato_cliente","type":"String"},{"name":"nome_empresa","type":"String"},{"name":"cnpj","type":"String"},{"name":"telefone","type":"String"},{"name":"informacoes_add","type":"String"},{"name":"cod_emp","type":"Integer"}]},"dataSources":[{"id":7,"name":"buscarProdutos","format":"JSON","dataUrl":"https://ec2-3-236-178-160.compute-1.amazonaws.com:8181/SXI/G5Rest?server\u003dhttp://localhost:8080/\u0026module\u003dsapiens\u0026service\u003dcom.senior.sapiens.bpm\u0026port\u003dbuscarProdutos\u0026DATASOURCETTRNAME\u003dprodutos\u0026serverAuth\u003dhttps://platform-homologx.senior.com.br:8243","jsonRootElement":"produtos","entityName":"","filterSupport":false,"fields":[{"name":"despro","description":"Descrição Produto","type":"String","fieldOrder":0},{"name":"codemp","description":"Empresa","type":"Integer","fieldOrder":1},{"name":"codpro","description":"Código Produto","type":"String","fieldOrder":2}]},{"id":6,"name":"Tipo Demonstracao","format":"TABLE","dataUrl":"https://platform-homologx.senior.com.br/t/senior.com.br/bridge/1.0/odata/platform/ecm_form/tipo_demonstracao","jsonRootElement":"value","entityName":"tipo_demonstracao","filterSupport":true,"fields":[{"name":"codigo","description":"Código","type":"Integer","fieldOrder":0},{"name":"tipo","description":"Tipo","type":"String","fieldOrder":1}]}],"variableVisibility":"ONLY_PARTICIPATED","taskVisibleAfterTreated":false}