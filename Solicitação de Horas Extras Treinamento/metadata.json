{"metaVersion":2,"name":"Solicitação de Horas Extras Treinamento","icon":"fad fa-alarm-plus","executionType":"Ecm","entityVersion":9,"author":"senior","created":"2020-11-06T19:52:39.000","simple":false,"embedded":false,"tag":"Ponto","viewName":"bpm_solicitacao_de_horas_extras_treinamento_v1","contextVariable":[{"id":"e4e2c39075906cb801759eb307e5196d","processId":3,"processVersion":16,"name":"dias_he","label":"Dias HE","variableType":"Integer","orderField":12,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a9aaeab14f6","processId":3,"processVersion":16,"name":"codigo_motivo","label":"Código Motivo","variableType":"Integer","orderField":17,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e8716931952","processId":3,"processVersion":16,"name":"numero_empresa","label":"Número Empresa","variableType":"Integer","orderField":18,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e8716951953","processId":3,"processVersion":16,"name":"numero_matricula","label":"Número Matricula","variableType":"Integer","orderField":19,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e8716981954","processId":3,"processVersion":16,"name":"tipo_colaborador","label":"Tipo Colaborador","variableType":"Integer","orderField":20,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e87169c1955","processId":3,"processVersion":16,"name":"codigo_filial","label":"Código Filial","variableType":"Integer","orderField":21,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759ee4474b19a2","processId":3,"processVersion":16,"name":"usuario_presidente","label":"Usuário Presidente","variableType":"String","orderField":22,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a19132b147f","processId":3,"processVersion":16,"name":"tipo_solicitacao","label":"Solicitar Autorização para outro Colaborador","variableType":"Boolean","orderField":2,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a19132e1480","processId":3,"processVersion":16,"name":"colaborador","label":"Nome do Colaborador","variableType":"String","orderField":3,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e87167c194f","processId":3,"processVersion":16,"name":"posto_trabalho","label":"Posto de Trabalho","variableType":"String","orderField":4,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e87167f1950","processId":3,"processVersion":16,"name":"filial","label":"FIlial","variableType":"String","orderField":5,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e8716811951","processId":3,"processVersion":16,"name":"escala","label":"Escala","variableType":"String","orderField":6,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a1913311481","processId":3,"processVersion":16,"name":"motivo","label":"Motivo da Solicitação","variableType":"String","orderField":7,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759e943e0a195d","processId":3,"processVersion":16,"name":"nome_colaborador_substituido","label":"Nome do Colaborador Substituído","variableType":"String","orderField":8,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a1913341482","processId":3,"processVersion":16,"name":"atestado","label":"Atestado do Substituído","variableType":"String","orderField":9,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a1913371483","processId":3,"processVersion":16,"name":"data_inicio","label":"Data Início","variableType":"Date","orderField":10,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a19133a1484","processId":3,"processVersion":16,"name":"data_fim","label":"Data Fim","variableType":"Date","orderField":11,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759ef45a8c19bf","processId":3,"processVersion":16,"name":"justificativa","label":"Justificativa","variableType":"String","orderField":13,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a7f62c814a4","processId":3,"processVersion":16,"name":"percentual","label":"Percentual","variableType":"String","orderField":15,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759a7f62cc14a5","processId":3,"processVersion":16,"name":"parecer","label":"Parecer RH","variableType":"String","orderField":16,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false},{"id":"e4e2c39075906cb801759eff9f8f19f3","processId":3,"processVersion":16,"name":"papel_filial","label":"Papel Filial","variableType":"String","orderField":23,"visibleForRequester":false,"deprecated":false,"visibleForDecisionCenter":false}],"services":[{"id":"e4e2c39075906cb801759f7df2cd1ac7","name":"inserirColaboradorHE","execution":"TASK","protocol":"REST","method":"POST","url":"https://ec2-34-206-54-32.compute-1.amazonaws.com:8181/SXI/G5Rest?server\u003dhttp://localhost:8080/\u0026module\u003drubi\u0026service\u003dcom.senior.bpm.treinamento\u0026port\u003dinserirColaboradorHE\u0026serverAuth\u003dhttps://platform-homologx.senior.com.br:8243","params":[{"id":"e4e2c39075906cb801759f7df2cd1ac8","name":"numemp","input":true,"paramType":"Integer"},{"id":"e4e2c39075906cb801759f7df2ce1ac9","name":"tipcol","input":true,"paramType":"Integer"},{"id":"e4e2c39075906cb801759f7df2ce1aca","name":"numcad","input":true,"paramType":"Integer"},{"id":"e4e2c39075906cb801759f7df2ce1acb","name":"dataInicio","input":true,"paramType":"String"},{"id":"e4e2c39075906cb801759f7df2ce1acc","name":"dataFim","input":true,"paramType":"String"},{"id":"e4e2c39075906cb801759f7df2cf1acd","name":"percentual","input":true,"paramType":"String"}]},{"id":"e4e2c39075906cb801759ec5b2191993","name":"buscarPresidente","execution":"TASK","protocol":"REST","method":"POST","url":"https://ec2-34-206-54-32.compute-1.amazonaws.com:8181/SXI/G5Rest?server\u003dhttp://localhost:8080/\u0026module\u003drubi\u0026service\u003dcom.senior.bpm.treinamento\u0026port\u003dbuscarPresidente\u0026serverAuth\u003dhttps://platform-homologx.senior.com.br:8243","params":[{"id":"e4e2c39075906cb801759ec5b2191994","name":"postra","input":true,"paramType":"String"},{"id":"e4e2c39075906cb801759ec5b21a1995","name":"nomeUsuario","input":false,"paramType":"String"}]}],"customAssignments":[],"form":{"name":"solicitacao_de_horas_extras_treinamento_v1","title":"Solicitação de Horas Extras Treinamento","version":9,"fields":[{"name":"politica_de_horas_extras","type":"Link","label":"Política de Horas Extras","size":"100%","order":0,"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":false,"calculationConfig":{"calculation":"https://dev.senior.com.br","triggerFields":[]}},{"name":"tipo_solicitacao","type":"Boolean","label":"Solicitar Autorização para outro Colaborador","size":"50%","order":2,"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":true},{"name":"colaborador","type":"String","label":"Nome do Colaborador","size":"50%","order":3,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Query","config":"{\"name\":\"buscarColaboradores\",\"field\":\"nomfun\",\"filters\":[]}"},"appWorkflow":false,"isBreakLine":true},{"name":"posto_trabalho","type":"String","label":"Posto de Trabalho","size":"50%","order":4,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"postra\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"filial","type":"String","label":"FIlial","size":"50%","order":5,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"nomfil\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"escala","type":"String","label":"Escala","size":"50%","order":6,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"nomesc\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"motivo","type":"String","label":"Motivo da Solicitação","size":"50%","order":7,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Query","config":"{\"name\":\"Lista de motivos\",\"field\":\"motivo\",\"filters\":[]}"},"appWorkflow":false,"isBreakLine":true},{"name":"nome_colaborador_substituido","type":"String","label":"Nome do Colaborador Substituído","size":"50%","order":8,"required":false,"validationRegex":"","mask":"","datasource":{"type":"Query","config":"{\"name\":\"buscarColaboradoresSubstituido\",\"field\":\"nomfun\",\"filters\":[]}"},"appWorkflow":false,"isBreakLine":false},{"name":"atestado","type":"Attachment","label":"Atestado do Substituído","size":"100%","order":9,"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":false},{"name":"data_inicio","type":"Date","label":"Data Início","size":"25%","order":10,"required":false,"validationRegex":"","mask":"DD/MM/AAAA","appWorkflow":false,"isBreakLine":false},{"name":"data_fim","type":"Date","label":"Data Fim","size":"25%","order":11,"required":false,"validationRegex":"","mask":"DD/MM/AAAA","appWorkflow":false,"isBreakLine":false},{"name":"dias_he","type":"Integer","label":"Dias HE","size":"25%","order":12,"required":false,"validationRegex":"","mask":"0","appWorkflow":false,"isBreakLine":false,"calculationConfig":{"calculation":"((${data_fim} - ${data_inicio}) / 86400000) + 1","triggerFields":["data_fim","data_inicio"]}},{"name":"justificativa","type":"TextArea","label":"Justificativa","size":"50%","order":13,"required":false,"validationRegex":"","mask":"6","appWorkflow":false,"isBreakLine":false},{"name":"percentual","type":"List","label":"Percentual","size":"25%","order":15,"items":[{"value":"70%"},{"value":"100%"},{"value":"120%"}],"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":false},{"name":"parecer","type":"TextArea","label":"Parecer RH","size":"100%","order":16,"required":false,"validationRegex":"","tooltip":"RH deve informar parecer em caso de reprovação","mask":"6","appWorkflow":false,"isBreakLine":false},{"name":"codigo_motivo","type":"Integer","label":"Código Motivo","size":"25%","order":17,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"motivo\",\"dataSourceField\":\"codigo\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"numero_empresa","type":"Integer","label":"Número Empresa","size":"25%","order":18,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"numemp\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"numero_matricula","type":"Integer","label":"Número Matricula","size":"25%","order":19,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"numcad\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"tipo_colaborador","type":"Integer","label":"Tipo Colaborador","size":"25%","order":20,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"tipcol\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"codigo_filial","type":"Integer","label":"Código Filial","size":"25%","order":21,"required":false,"validationRegex":"","mask":"0","datasource":{"type":"Resulting","config":"{\"formField\":\"colaborador\",\"dataSourceField\":\"codfil\"}"},"appWorkflow":false,"isBreakLine":false},{"name":"usuario_presidente","type":"String","label":"Usuário Presidente","size":"25%","order":22,"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":false},{"name":"papel_filial","type":"String","label":"Papel Filial","size":"50%","order":23,"required":false,"validationRegex":"","mask":"","appWorkflow":false,"isBreakLine":false,"calculationConfig":{"calculation":"\"RH Filial \"+ ${codigo_filial}","triggerFields":["codigo_filial"]}}],"formLayout":"{\"layoutElements\":[{\"elementType\":\"SEPARATOR\",\"layoutElement\":{\"name\":\"Tipo de Solicitação\",\"order\":1.0}},{\"elementType\":\"SEPARATOR\",\"layoutElement\":{\"name\":\"RH\",\"order\":14.0}}],\"jsonVersion\":1}","internal":false,"formRules":[{"triggerType":"ON_FIELD_EXIT","triggerFields":["tipo_solicitacao"],"condition":"${tipo_solicitacao}","actions":[{"type":"MAKE_FIELDS_VISIBLE","fields":["colaborador","posto_trabalho","filial","escala"]},{"type":"MAKE_FIELDS_REQUIRED","fields":["colaborador"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["data_inicio"],"condition":"${data_inicio} \u0026\u0026 ${data_inicio} \u003c\u003d new Date().getTime()","actions":[{"type":"MAKE_FIELDS_CONSISTENCE","message":"A data de início deve ser maior que a data atual","fields":["data_inicio"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["codigo_motivo"],"condition":"${codigo_motivo} \u003d\u003d 2","actions":[{"type":"MAKE_FIELDS_VISIBLE","fields":["atestado","nome_colaborador_substituido"]},{"type":"MAKE_FIELDS_REQUIRED","fields":["atestado","nome_colaborador_substituido"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["data_fim","data_inicio"],"condition":"${data_fim} \u0026\u0026 ${data_fim} \u003c ${data_inicio}","actions":[{"type":"MAKE_FIELDS_CONSISTENCE","message":"A data fim deve ser maior ou igual a data início","fields":["data_fim"]}],"enabled":true},{"triggerType":"ON_FIELD_EXIT","triggerFields":["dias_he"],"condition":"${dias_he} \u003e 5","actions":[{"type":"MAKE_FIELDS_VISIBLE","fields":["justificativa"]},{"type":"MAKE_FIELDS_REQUIRED","fields":["justificativa"]}],"enabled":true}]},"entity":{"name":"solicitacao_de_horas_extras_treinamento_v1","title":"solicitacao_de_horas_extras_treinamento_v1","type":"FORM","attributes":[{"name":"atestado","type":"String"},{"name":"codigo_filial","type":"Integer"},{"name":"codigo_motivo","type":"Integer"},{"name":"colaborador","type":"String"},{"name":"data_fim","type":"Date"},{"name":"data_inicio","type":"Date"},{"name":"dias_he","type":"Integer"},{"name":"escala","type":"String"},{"name":"filial","type":"String"},{"name":"justificativa","type":"String"},{"name":"motivo","type":"String"},{"name":"nome_colaborador_substituido","type":"String"},{"name":"numero_empresa","type":"Integer"},{"name":"numero_matricula","type":"Integer"},{"name":"papel_filial","type":"String"},{"name":"parecer","type":"String"},{"name":"percentual","type":"String"},{"name":"politica_de_horas_extras","type":"String"},{"name":"posto_trabalho","type":"String"},{"name":"tipo_colaborador","type":"Integer"},{"name":"tipo_solicitacao","type":"Boolean"},{"name":"usuario_presidente","type":"String"}]},"dataSources":[{"id":4,"name":"buscarColaboradoresSubstituido","format":"JSON","dataUrl":"https://ec2-34-206-54-32.compute-1.amazonaws.com:8181/SXI/G5Rest?server\u003dhttp://localhost:8080/\u0026module\u003drubi\u0026service\u003dcom.senior.bpm.treinamento\u0026port\u003dbuscarColaboradoresSubstituido\u0026DATASOURCETTRNAME\u003dcolaboradores","jsonRootElement":"colaboradores","filterSupport":false,"fields":[{"name":"tipcol","description":"Tipo Colaborador","type":"Integer","fieldOrder":0},{"name":"numemp","description":"Número Empresa","type":"Integer","fieldOrder":1},{"name":"numcad","description":"Número Cadastro","type":"Integer","fieldOrder":2},{"name":"nomfun","description":"Nome do Funcionário","type":"String","fieldOrder":3}]},{"id":2,"name":"Lista de motivos","format":"TABLE","dataUrl":"https://platform-homologx.senior.com.br/t/senior.com.br/bridge/1.0/odata/platform/ecm_form/motivo","jsonRootElement":"value","entityName":"motivo","filterSupport":true,"fields":[{"name":"codigo","description":"Código","type":"Integer","fieldOrder":0},{"name":"motivo","description":"Motivo","type":"String","fieldOrder":1}]},{"id":3,"name":"buscarColaboradores","format":"JSON","dataUrl":"https://ec2-34-206-54-32.compute-1.amazonaws.com:8181/SXI/G5Rest?server\u003dhttp://localhost:8080/\u0026module\u003drubi\u0026service\u003dcom.senior.bpm.treinamento\u0026port\u003dbuscarColaboradores\u0026DATASOURCETTRNAME\u003dcolaboradores\u0026serverAuth\u003dhttps://platform-homologx.senior.com.br:8243","jsonRootElement":"colaboradores","entityName":"","filterSupport":false,"fields":[{"name":"numemp","description":"Número Empresa","type":"Integer","fieldOrder":0},{"name":"tipcol","description":"Tipo Colaborador","type":"Integer","fieldOrder":1},{"name":"numcad","description":"Número Matrícula","type":"Integer","fieldOrder":2},{"name":"nomfun","description":"Nome Funcionário","type":"String","fieldOrder":3},{"name":"codfil","description":"Código Filial","type":"Integer","fieldOrder":4},{"name":"nomfil","description":"Nome Filial","type":"String","fieldOrder":5},{"name":"codesc","description":"Código Escala","type":"Integer","fieldOrder":6},{"name":"nomesc","description":"Nome Escala","type":"String","fieldOrder":7},{"name":"estpos","description":"Estrutura de Posto","type":"Integer","fieldOrder":8},{"name":"postra","description":"Posto de Trabalho","type":"String","fieldOrder":9},{"name":"despos","description":"Descrição do Posto","type":"String","fieldOrder":10}]}],"variableVisibility":"ONLY_PARTICIPATED","taskVisibleAfterTreated":false}